---
layout: post
title: Chapter 3장 연산자
date: 2022-07-18 20:20:23 +0900
category: Java
---
# Chapter 3 연산자

# 1. 연산자(operator)

`연산자`는 연산을 수행하는 기호

## 1.1 연산자와 피연산자

`연산자` : 연산을 수행하는 기호(+, -, *, / 등)

`피연산자` : 연산자의 작업 대상(변수, 상수 , 리터럴, 수식)
<br>
연산자는 피연산자로 연산을 수행하고 나면 항상 결과값을 반환함

## 1.2 식과 대입연산자

`식` : 연산자와 피연산자를 조합하여 계산하고자하는 바를 표현한 것

`평가` : 식을 계산하여 결과를 얻은 것

```java
y = 4 * 5 + 3; // 식의 평가를 대입연산자로 변수에 저장
```

## 1.3 연산자의 종류

| 종류 | 연산자 | 설명 |
| --- | --- | --- |
| 산술 연산자 | +  -  *  /  %  <<  >> | 사칙연산과 나머지 연산(%) |
| 비교 연산자 | >  <  ≥  ≤  ==  !=  ===  | 크고 작음과 같고 다름을 비교 |
| 논리 연산자 | &&  ||  !  &  |  ^  ~ | 그리고(AND)와 또는(OR)으로 조건을 연결 |
| 대입 연산자 | = | 우변의 값을 좌변에 저장 |
| 기 타 | (type)  ? :  instanceof | 형변호나 연산자, 삼항 연산자, instanceof연산자 |

### 피연산자의 개수에 의한 분류

단항 연산자 :  피연산자 하나

이항 연산자 :  피연산자 둘

삼항 연산자 :  피연산자 셋

## 1.4 연산자의 우선순위와 결합규칙

식에 사용된 연산자가 둘 이상인 경우, 연산자의 우선순위에 의해서 연산순서가 결정됨

### 연산자의 결합규칙

대부분 왼쪽에서 오른쪽의 순서로 연산을 수행

단항 연산자와 대입 연산자는 오른쪽에서 왼쪽의 순서로 연산을 수행

1. 산술 > 비교 > 논리 > 대입. 대입은 제일 마지막에 수행된다.
2. 단항(1) > 이항(2) > 삼항(3). 단항 연산자의 우선순위가 이항 연산자보다 높다.
3. 단항 연산자와 대입 연산자를 제외한 모든 연산의 진행방향은 왼쪽에서 오른쪽이다.

| 종류 | 결합규칙 | 연산자 | 우선순위 |
| --- | --- | --- | --- |
| 단항 연산자 | ← | ++  --  +  -  ~  !  (type) | 높음 |
| 산술 연산자 | → | *  /  % |  |
|  | → | +  - |  |
|  | → | <<  >> |  |
| 비교 연산자 | → | <  >  ≤  ≥  instanceof |  |
|  | → | ==  != |  |
| 논리 연산자 | → | & |  |
|  | → | ^ |  |
|  | → | | |  |
|  | → | && |  |
|  | → | || |  |
| 삼항 연산자 | ← | ? : |  |
| 대입 연산자 | ← | =  +=  -=  *=  /=  %=  <≤  >≥  &=  ^=  |= | 낮음 |

## 1.5 산술 변환(usual arithmetic conversion)

`산술 변환` : 연산 전에 피연산자 타입의 일치를 위해 자동 형변환되는 것

`산술 변환`의 규칙

- 두 피연자의 타입을 같게 일치시킨다.(보다 큰 타입으로 일치)
- 피연산자의 타입이 int보다 작은 타입이면 int로 변환된다.

# 단항 연산자

## 2.1 증감 연산자 ++ --

`증감연산자`는 피연산자에 저장된 값을 1 증가(++) 또는 감소(--)시킴

증감연산자의 위치

| 타입 | 설명 | 사용예 |
| --- | --- | --- |
| 전위형 | 값이 참조되기 전에 증가시킨다. | j = ++i; |
| 후위형 | 값이 참조된 후에 증가시킨다. | j = i++; |

## 2.2 부호 연산자 + -

`부호 연산자` ‘-’는 피연산자의 부호를 반대로 변경한 결과를 반환

피연산자가 음수면 양수, 양수면 음수

# 3. 산술 연산자

## 3.1 사칙 연산자 + - * /

곱셈(*)과 나눗셈(/), 나머지(%) 연산자가 덧셈(+), 뺄셈(-) 연산자보다 우선순위가 높음

나눗셈에서 나누는 수로 0을 사용 못함. 에러 발생
<br>
사칙연산의 피연산자로 숫자뿐만 아니라 문자도 가능함

문자는 실제로 해당 문자의 유니코드(부호없는 정수)로 바뀌어 저장되므로 문자간의 사칙연산은 정수간의 연산과 동일

## 3.2 나머지 연산자 %

`나머지 연산자`는 왼쪽의 피연산자를 오른쪽 피연산자로 나누고 난 나머지 값을 결과로 반환하는 연산자

나누는 수(오른쪽 피연산자)는 **0을 사용 못함, 정수만 허용**

# 4. 비교 연산자

연산결과는 true와 false 둘 중의 하나

## 4.1 대소비교 연산자 < > ≤ ≥

두 피연산자의 값의 크기를 비교하는 연산자

참이면 true, 거짓이면 false

기본형 중에서는 boolean형을 제외한 나머지 자료형에 다 사용할 수 있지만 참조형에는 사용 못함

| 비교연산자 | 연산결과 |
| --- | --- |
| > | 좌변 값이 크면, true 아니면 false |
| < | 좌변 값이 작으면, true 아니면 false |
| ≥ | 좌변 값이 크거나 같으면, true 아니면 false |
| ≤ | 좌변 값이 작거나 같으면, true 아니면 false |

## 4.2 등가비교 연산자 == !=

두 피연산자의 값이 같은지 또는 다른지를 비교하는 연산자

| 비교 연산자 | 연산결과 |
| --- | --- |
| == | 두 값이 같으면, true 아니면 false |
| != | 두 값이 다르면, true 아니면 false |

### 문자열의 비교

두 문자열을 비교할 때는, 비교 연산자 ‘==’ 대신 `equals()` 메서드 사용

# 5. 논리 연산자

논리 연산자는 둘 이상의 조건을 `그리고(AND)`나 `또는(OR)`으로 연결하여 하나의 식으로 표현

## 5.1 논리 연산자 - &&, ||, !

&&(AND) : 두 피연산자가 모두 true일 때만 true

||(OR) : 두 피연산자 중 어느 한 쪽만 true이어도 true

논리 연산자의 연산결과

| x | y | x \|\| y | x && y |
| --- | --- | --- | --- |
| true | true | true | true |
| true | false | true | false |
| false | true | true | false |
| false | false | false | false |

### 효율적인 연산(short circuit evaluation)

OR연산(||)의 경우, 두 피연산자 중 어느 한 쪽만 ‘참’이어도 전체 연산결과가 ‘참’이므로 좌측 피연산자가 ‘true’이면, 우측 피연자의 값은 평가하지 않음

| x | y | x \|\| y |
| --- | --- | --- |
| true | true | true |
| true | false | true |
| false | true | true |
| false | false | false |

<br>

AND연산(&&)의 경우, 두 피연산자 중 어느 한쪽만 ‘거짓’이어도 전체 연산결과가 ‘거짓’이므로 좌측 피연산자가 거짓이면, 우측 피연산자의 값은 평가하지 않음

| x | y | x && y |
| --- | --- | --- |
| true | true | true |
| true | false | false |
| false | true | false |
| false | false | false |

### 논리 부정 연산자 !

피연산자가 true이면 false를 false면 true를 반환

| x | !x |
| --- | --- |
| true | false |
| false | true |

## 5.2 비트 연산자 & | ^ ~ << >>

`비트 연산자`는 피연산자를 비트 단위로 논리 연산

> |(OR연산자) 피연산자 중 한 쪽의 값이 1이면, 1을 결과로 얻는다. 그 외에는 0을 얻는다.<br>
&(AND연산자) 피연산자 양 쪽이 모두 1이어야만 1을 결과로 얻는다. 그 외에는 0을 얻는다.<br>
^(XOR연산자) 피연산자의 값이 서로 다를 때만 1을 얻는다. 같을 때는 0을 얻는다.

| x | y | x \| y | x & y | x ^ y |
| --- | --- | --- | --- | --- |
| 1 | 1 | 1 | 1 | 0 |
| 1 | 0 | 1 | 0 | 1 |
| 0 | 1 | 1 | 0 | 1 |
| 0 | 0 | 0 | 0 | 0 |

### 비트 전환 연산자 ~

`비트 전환 연산자`는 피연산자를 2진수로 표현했을 때 0은 1로, 1은 0으로 바꾼다. 논리부정 연산자 !와 유사하다.

| x | y |
| --- | --- |
| 1 | 0 |
| 0 | 1 |

### 쉬프트 연산자 << >>

`쉬프트 연산자`는 피연산자의 각 자리(2진수)를 오른쪽(>>) 또는 왼쪽(<<)으로 이동한다.

\<<연산자의 경우, 피연산자의 부호에 상관없이 각 자리를 왼쪽으로 이동시키며 빈칸을 0으로 채운다.

\>>연산자의 경우, 오른쪽으로 이동시키기 때문에 부호있는 정수는 부호를 유지하기 위해 왼쪽 피연산자가 음수인 경우 빈자리를 1로 채운다. 양수는 0을 채운다.

> x << n은 x * $2^n$의 결과와 같다.x >> n은 x / $2^n$의 결과와 같다.

# 6. 그 외의 연산자

## 6.1 조건 연산자 ? :

`조건 연산자`는 조건식, 식1, 식2 모두 세 개의 피연산자를 필요로 하는 삼항 연산자이며, 삼항 연산자는 조건 연산자 하나뿐이다.

> 조건식 ? 식1 : 식2
> 

`조건 연산자`는 첫 번째 피연산자인 조건식의 평가결과에 따라 다른 결과를 반환한다.

조건식의 평가결과가 true이면 식1이, false이면 식2가 연산결과가 된다.

## 6.2 대입 연산자 =  op=

`대입 연산자`는 변수와 같은 저장공간에 값 또는 수식의 연산결과를 저장하는데 사용된다.

### lvalue와 rvalue

대입연산자의 왼쪽  피연산자를 `lvalue`(left value)

오른쪽 피연산자를 `rvalue`(right value)

대입연산자의 rvalue는 변수뿐만 아니라 식이나 상수 등이 모두 가능한 반면, lvalue는 **반드시** 변수처럼 값을 변경할 수 있는 것이어야 한다.

### 복합 대입 연산자

대입 연산자는 다른 연산자(op)와 결합하여  `op=` 같은 방식으로 사용된다.

| op= | = |
| --- | --- |
| i +=3 | i = i + 3 |
| i -= 3 | i = i - 3 |
| i *= 3 | i = i * 3 |
| i /= 3 | i = i / 3 |
| i %= 3 | i = i % 3 |
| i <<= 3 | i = i << 3 |
| i >>= 3 | i = i >> 3 |
| i &= 3 | i = i & 3; |
| i ^= 3 | i = i ^ 3 |
| i |= 3 | i = i | 3 |
| i *= 10 + j | i = i * (10 + j) |